// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

Table tags {
  tag_id string
  app_id integer
}

Table app {
  app_id integer [primary key]
  app_name string
  icon string
  price float
  rating float
  downloads integer
  tag_ids string_array
}

Table app_page {
  app_id integer [primary key]
  description string
  images string_array
  last_update timestamp
  comment_ids string_array
}

Table comments {
  comment_id integer [primary key]
  app_id integer
  user_id integer
  stars float
  comment string
  date timestamp
}

Table user {
  user_id integer [primary key]
  username string
  creation_date timestamp
  comment_ids string_array
  app_ids string_array
  report_ids string_array
}

Table reports {
  report_id integer [primary key]
  reported_app_id integer
  reported_user_id integer
  comment string
  created_at timestamp
}

// Ref user_posts: posts.user_id > users.id // many-to-one

// Ref: users.id < follows.following_user_id

// Ref: users.id < follows.followed_user_id


Ref: "user"."app_ids" < "app"."app_id"

Ref: "app"."app_id" <> "app_page"."app_id"

Ref: "app_page"."comment_ids" < "comments"."comment_id"

Ref: "app"."tag_ids" < "tags"."app_id"

Ref: "comments"."user_id" < "user"."user_id"


Ref: "comments"."app_id" < "app"."app_id"

Ref: "user"."report_ids" < "reports"."report_id"
